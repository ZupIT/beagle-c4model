<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1199px" preserveAspectRatio="none" style="width:1710px;height:1199px;" version="1.1" viewBox="0 0 1710 1199" width="1710px" zoomAndPan="magnify"><defs/><g><!--MD5=[8230f2297e090094d74a044492a56a02]
cluster charlescd_gate--><rect fill="#FFFFFF" height="536" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="1292.5" x="407" y="219"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="992.25" y="237.6094">CharlesCD Gate</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="1021.75" y="253.582">[Container]</text><!--MD5=[8e856e675043b69e55c3c5e05574d55c]
entity gate_repository--><rect fill="#85BBF0" height="160.875" style="stroke: #78A8D8; stroke-width: 1.5;" width="220" x="1089" y="434.5"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="1137.5" y="461.1094">Gate Repository</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1147" y="477.082">[Repository/GORM]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1201" y="494.252"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="1124" y="511.8613">Acessa as informações</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="159" x="1117.5" y="529.4707">necessárias no banco de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="1099" y="547.0801">dados. Engloba as repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="200" x="1099" y="564.6895">User, SystemToken, Permission</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1157.5" y="582.2988">, Workspace.</text><!--MD5=[0fb506b45c97aea4142d5313ef575ee5]
entity auth_controller--><rect fill="#85BBF0" height="125.6563" style="stroke: #78A8D8; stroke-width: 1.5;" width="211" x="427" y="286"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="441" y="312.6094">Authorization Controller</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="490.5" y="328.582">[HTTP Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="534.5" y="345.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="453.5" y="363.3613">Solicita a autorização da</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="187" x="437" y="380.9707">requisição utilizando token ou</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="459.5" y="398.5801">header de autorização.</text><!--MD5=[8746e451b315ef44a5db7e65fc654ccb]
entity auth_use_case--><rect fill="#85BBF0" height="178.4844" style="stroke: #78A8D8; stroke-width: 1.5;" width="217" x="787" y="273"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="805.5" y="299.6094">Authorization Use Case</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="865.5" y="315.582">[Use Case]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="897.5" y="332.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="797" y="350.3613">Autoriza a requisição realizada</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="820.5" y="367.9707">via token ou header de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="817.5" y="385.5801">autorização. Engloba os</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="813.5" y="403.1895">usecases: Authorize User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="811" y="420.7988">Token e Authorize System</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="873.5" y="438.4082">Token.</text><!--MD5=[769f16a182ef6026719566f5e55764e2]
entity security_filter_service--><rect fill="#85BBF0" height="125.6563" style="stroke: #78A8D8; stroke-width: 1.5;" width="211" x="1093.5" y="273"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="1116" y="299.6094">Security Filter Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="1175.5" y="315.582">[Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1201" y="332.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1120" y="350.3613">Solicita a autorização da</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="187" x="1103.5" y="367.9707">requisição utilizando token ou</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="1126" y="385.5801">header de autorização.</text><!--MD5=[a15c6a966f3bce700f95a323cab74539]
entity casbin--><rect fill="#85BBF0" height="178.4844" style="stroke: #78A8D8; stroke-width: 1.5;" width="217" x="1466.5" y="273"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1548" y="299.6094">Casbin</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="109" x="1520.5" y="315.582">[Access Control Lib]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1577" y="332.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="1476.5" y="350.3613">Autoriza a requisição realizada</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="1500" y="367.9707">via token ou header de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1497" y="385.5801">autorização. Engloba os</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="1493" y="403.1895">usecases: Authorize User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1490.5" y="420.7988">Token e Authorize System</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1553" y="438.4082">Token.</text><!--MD5=[6113c3d351cca48106911a495b382e12]
entity system_token_controller--><rect fill="#85BBF0" height="125.6563" style="stroke: #78A8D8; stroke-width: 1.5;" width="219" x="423" y="533"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="441" y="559.6094">Authorization Controller</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="490.5" y="575.582">[HTTP Handler]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="534.5" y="592.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="433" y="610.3613">Realiza o processo de controle</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="441.5" y="627.9707">de acesso utilizando a lib de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="516.5" y="645.5801">auth.</text><!--MD5=[a73016ecbf33b01957a9b1f1bb1fbe6d]
entity system_token_use_case--><rect fill="#85BBF0" height="143.2656" style="stroke: #78A8D8; stroke-width: 1.5;" width="207" x="792" y="524.5"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="805.5" y="551.1094">Authorization Use Case</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="865.5" y="567.082">[Use Case]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="897.5" y="584.252"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="815.5" y="601.8613">Realiza as validações de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="802" y="619.4707">permissionamento de acordo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="808" y="637.0801">com as regras definidas na</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="187" x="802" y="654.6895">politica de permissionamento.</text><!--MD5=[17178f37f4ed30cfc8f8209f451d27c2]
entity auth_token_service--><rect fill="#85BBF0" height="108.0469" style="stroke: #78A8D8; stroke-width: 1.5;" width="178" x="1110" y="631"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="1124.5" y="657.6094">Auth Token Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="1175.5" y="673.582">[Service]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1201" y="690.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1120" y="708.3613">Faz o parse do token do</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="1131.5" y="725.9707">header Authorization.</text><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><rect fill="#08427B" height="196.2969" style="stroke: #073B6F; stroke-width: 1.5;" width="207" x="7" y="17"/><image height="48" width="48" x="86.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABuUlEQVR42u2Yv0oEMRDGp/QRfIR7BVs7Gx9AH0CwtrtKLNXSRsRSG8HCxkbQVrSykoOrzlILC9v4gwMRNptMMsnu3nHDFMcSLh/f/PsmsrY5HpTLUgHaOri8uHt+eJm8vs/wm8e38fn9aPekB0D7p7df3z+uxYC4sXfWEaD17SPIcAqDreqAQBMgpmnHV091ASm5+W8EtxYgQuCyDF7LA+JPXa5RieUBwbwzWHlAVLIFEB2rMKCk4rK0AC0gZzN9/S8soOnHpwWQvhtpATE4h5XUlrKnIKp06uxCS5poCzs6stvjzuF1XfmRVG4ZkihHMSp5SuXGJGG5LEAVPSIpb4qJfIQzQeF6OMORGXSHbCjLuAb1CYhti7whQHQ5PLrlcHh+kiAyN/RxFE0/9OYvH+dJw33gw/nB4bYa5Ltmokl4MTXqMi+sMFtSfFBEDWoD67bUkPSa+d/Gk3i7i6tvxE4LyLhgGOeu9ELPXzLFAVHJrkNrZreUFfN28S9l1x27upVSLwp5hlIYFqBm8a8ADRxQJIfszy72ZxrpeKxGR6xnltEbupkbXtkpbQsh6ozhV8kDCni1dcT8F2bsoAKLcdt7AAAAAElFTkSuQmCC" y="27"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175" x="23" y="91.6094">Desenvolvedor/QA/PM/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="26.5" y="111.7344">Gestor/Supervisor/Etc</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="112.5" y="129.7832"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="24" y="147.3926">Qualquer pessoa que  que</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="17" y="165.002">possui alguma aplicação que</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="20" y="182.6113">tem os deploys gerenciados</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="58.5" y="200.2207">pelo CharlesCD.</text><!--MD5=[bf1b4add2ee2e1b53e65912b20fb7ef4]
entity ui--><rect fill="#438DD5" height="108.0469" style="stroke: #3C7FC0; stroke-width: 1.5;" width="209" x="428" y="61"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="480.5" y="87.6094">CharlesCD-UI</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="114" x="475.5" y="103.582">[ReacjJS, Typescript]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="534.5" y="120.752"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="185" x="438" y="138.3613">Web Application: Interface do</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="508" y="155.9707">produto</text><!--MD5=[8ff20db77df385ae9dec9b6266e43f44]
entity moove--><rect fill="#438DD5" height="196.0938" style="stroke: #3C7FC0; stroke-width: 1.5;" width="219" x="786" y="7"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="826" y="33.6094">CharlesCD-Moove</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="843.5" y="49.582">[Kotlin, SpringBoot]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="897.5" y="66.752"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="807" y="84.3613">API Application: Processa e</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="799.5" y="101.9707">armazena no banco de dados</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="185" x="801" y="119.5801">as informações dos usuários,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="796" y="137.1895">aplicações e configurações em</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="180" x="803.5" y="154.7988">geral. Além de orquestrar as</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="809.5" y="172.4082">requisições para as outras</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="860" y="190.0176">aplicações.</text><!--MD5=[ce8c1f9e16bd6fd9376df95af0afd0d2]
entity moove_database--><rect fill="#438DD5" height="231.3125" style="stroke: #3C7FC0; stroke-width: 1.5;" width="220" x="1465" y="771.5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="1511.5" y="798.1094">Moove Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="1548" y="814.082">[Postgres]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1577" y="831.252"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="1481" y="848.8613">Armazena Informações sobre</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="1476.5" y="866.4707">Usuários, Grupos de Usuários,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="1475" y="884.0801">Token Sistêmicos, Permissões,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="1510" y="901.6895">Roles, Workspaces,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="199" x="1475.5" y="919.2988">Componentes, Modules,  Builds</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="1496.5" y="936.9082">, Deployments, Círculos,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="1482.5" y="954.5176">Configurações de Métricas e</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="1475.5" y="972.127">Configurações de Ambiente de</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="1552" y="989.7363">deploy.</text><!--MD5=[af1c298bb04aacc9d15065cc96d77f3a]
entity envoy--><rect fill="#B3B3B3" height="55.2188" style="stroke: #A6A6A6; stroke-width: 1.5;" width="69" x="76" y="269.5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="86" y="296.1094">Envoy</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="92" y="312.082">[Proxy]</text><!--MD5=[ea52addd404dfd4dcf54bc1313006865]
link auth_controller to auth_use_case--><path d="M638.4,352.78 C682.39,354.36 733.69,356.21 778.78,357.83 " fill="none" id="auth_controller-to-auth_use_case" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="786.83,358.12,778.9483,354.8218,778.723,360.8176,786.83,358.12" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="703" y="351.457">Usa</text><!--MD5=[6e3ffaf925fcb22f738caaa24ff540b9]
link auth_use_case to security_filter_service--><path d="M1004.07,352.72 C1030.36,350.46 1058.55,348.03 1085.08,345.74 " fill="none" id="auth_use_case-to-security_filter_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1093.25,345.03,1085.0223,342.7267,1085.5366,348.7046,1093.25,345.03" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="1036" y="345.457">Usa</text><!--MD5=[617094cd78c2fb04989463d9cde1cfd2]
link auth_use_case to gate_repository--><path d="M1004.07,416.59 C1029.27,429.37 1056.22,443.05 1081.78,456.02 " fill="none" id="auth_use_case-to-gate_repository" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1088.95,459.66,1083.1763,453.362,1080.4588,458.7114,1088.95,459.66" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="1036" y="430.457">Usa</text><!--MD5=[d673164fdbdf58e9815446aefc93c418]
link security_filter_service to casbin--><path d="M1304.68,343.28 C1352.48,346.6 1409.24,350.55 1458.3,353.96 " fill="none" id="security_filter_service-to-casbin" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1466.42,354.52,1458.6419,350.9843,1458.235,356.9705,1466.42,354.52" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="1376" y="342.457">Usa</text><!--MD5=[2888f090b47a6e98c3bd0b6307e24af3]
link system_token_controller to system_token_use_case--><path d="M642.3,596 C687.05,596 738.82,596 783.77,596 " fill="none" id="system_token_controller-to-system_token_use_case" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="791.79,596,783.79,593,783.79,599,791.79,596" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="703" y="592.457">Usa</text><!--MD5=[8fbf5d5d5984d900e99a224bc3938ff6]
link system_token_use_case to auth_token_service--><path d="M999.42,626.38 C1032.58,636.17 1069.19,646.98 1101.85,656.62 " fill="none" id="system_token_use_case-to-auth_token_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1109.62,658.91,1102.7921,653.7739,1101.0985,659.5299,1109.62,658.91" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="1036" y="634.457">Usa</text><!--MD5=[51073929419936fca2ac91de04687ac5]
link system_token_use_case to gate_repository--><path d="M999.42,568.35 C1025.66,561.3 1054.05,553.67 1080.94,546.45 " fill="none" id="system_token_use_case-to-gate_repository" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1088.86,544.32,1080.3547,543.508,1081.918,549.3008,1088.86,544.32" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="1036" y="550.457">Usa</text><!--MD5=[764804d295ed6b11dc84984a53f6f2e1]
link gate_repository to moove_database--><path d="M1290.56,595.54 C1296.85,601.4 1303.05,607.26 1309,613 C1359.58,661.78 1413.8,717.23 1459.93,765.43 " fill="none" id="gate_repository-to-moove_database" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1465.51,771.27,1462.1521,763.4135,1457.8142,767.5586,1465.51,771.27" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="1340" y="646.457">Lê e escreve em</text><!--MD5=[1a009621445494d43847b83a8c0876e4]
link user to ui--><path d="M214.24,115 C276.54,115 356.06,115 419.89,115 " fill="none" id="user-to-ui" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="428,115,420,112,420,118,428,115" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="251" y="51.457">Acessa para gerenciar</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="245" y="66.5508">workspaces, aplicações,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="245.5" y="81.6445">configurações, usuários,</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="246" y="96.7383">deployments, métricas e</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="286.5" y="111.832">webhooks.</text><!--MD5=[805ea5e9695719f5adc9e6778a061558]
link ui to moove--><path d="M637.43,112.12 C681.35,110.9 732.69,109.48 777.89,108.23 " fill="none" id="ui-to-moove" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="785.96,108.01,777.8825,105.2253,778.0432,111.2231,785.96,108.01" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="673" y="91.457">Faz requisição</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="674" y="106.5508">[JSON/HTTPS]</text><!--MD5=[d63e87acfc462e7277d22e60e8f1349c]
link envoy to ui--><path d="M145.16,282.41 C204.1,256.87 328.45,202.99 420.23,163.22 " fill="none" id="envoy-to-ui" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="427.61,160.02,419.0769,160.4519,421.465,165.9562,427.61,160.02" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="253.5" y="161.457">Intercepta requisições</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="284" y="176.5508">[HTTP Filter]</text><!--MD5=[9ef16bbb55a006d963cb62c5596e290f]
link envoy to auth_controller--><path d="M145.16,301.17 C203.74,308.42 326.91,323.67 418.52,335.01 " fill="none" id="envoy-to-auth_controller" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="426.72,336.03,419.1512,332.0659,418.411,338.0201,426.72,336.03" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="276.5" y="295.457">Faz requisição</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="277.5" y="310.5508">[JSON/HTTPS]</text><rect fill="#FFFFFF" height="172.4844" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="144" x="1539.5" y="1015.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="1545.5" y="1037.3457">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1602.5" y="1037.3457"/><rect fill="#08427B" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1040.4219"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1549.5" y="1054.9551">person</text><rect fill="#1168BD" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1058.0313"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1549.5" y="1072.5645">system</text><rect fill="#438DD5" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1075.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1549.5" y="1090.1738">container</text><rect fill="#85BBF0" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1093.25"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1549.5" y="1107.7832">component</text><rect fill="#686868" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1110.8594"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1549.5" y="1125.3926">external person</text><rect fill="#999999" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1128.4688"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1549.5" y="1143.002">external system</text><rect fill="#B3B3B3" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1146.0781"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1549.5" y="1160.6113">external container</text><rect fill="#CCCCCC" height="17.6094" style="stroke: none; stroke-width: 1.0;" width="132" x="1545.5" y="1163.6875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1549.5" y="1178.2207">external component</text><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1022.8125" y2="1022.8125"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1040.4219" y2="1040.4219"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1058.0313" y2="1058.0313"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1075.6406" y2="1075.6406"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1093.25" y2="1093.25"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1110.8594" y2="1110.8594"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1128.4688" y2="1128.4688"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1146.0781" y2="1146.0781"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1163.6875" y2="1163.6875"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1677.5" y1="1181.2969" y2="1181.2969"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1545.5" x2="1545.5" y1="1022.8125" y2="1181.2969"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1677.5" x2="1677.5" y1="1022.8125" y2="1181.2969"/><!--MD5=[59078eb750f3d2d8b71873416a9c4a25]
@startuml c2
!include https://raw.githubusercontent.com/adrianvlupu/C4-PlantUML/latest/C4_Component.puml

LAYOUT_WITH_LEGEND()
LAYOUT_LEFT_RIGHT()

Person(user, "Desenvolvedor/QA/PM/Gestor/Supervisor/Etc", "Qualquer pessoa que  que possui alguma aplicação que tem os deploys gerenciados pelo CharlesCD.")

Container(ui, "CharlesCD-UI", "ReacjJS, Typescript", "Web Application: Interface do produto")
Container(moove, "CharlesCD-Moove", "Kotlin, SpringBoot", "API Application: Processa e armazena no banco de dados as informações dos usuários, aplicações e configurações em geral. Além de orquestrar as requisições para as outras aplicações.")
Container(moove_database, "Moove Database", "Postgres", "Armazena Informações sobre Usuários, Grupos de Usuários, Token Sistêmicos, Permissões, Roles, Workspaces, Componentes, Modules,  Builds, Deployments, Círculos, Configurações de Métricas e Configurações de Ambiente de deploy.")
Container_Ext(envoy, "Envoy", "Proxy")

Container_Boundary(charlescd_gate, "CharlesCD Gate"){
   
    Component(gate_repository, "Gate Repository", "Repository/GORM", "Acessa as informações necessárias no banco de dados. Engloba as repositories User, SystemToken, Permission, Workspace.")


    Component(auth_controller, "Authorization Controller", "HTTP Handler", "Solicita a autorização da requisição utilizando token ou header de autorização.")
    Component(auth_use_case, "Authorization Use Case", "Use Case", "Autoriza a requisição realizada via token ou header de autorização. Engloba os usecases: Authorize User Token e Authorize System Token.")
    Component(security_filter_service, "Security Filter Service", "Service", "Solicita a autorização da requisição utilizando token ou header de autorização.")
    Component(casbin, "Casbin", "Access Control Lib", "Autoriza a requisição realizada via token ou header de autorização. Engloba os usecases: Authorize User Token e Authorize System Token.")

    
    Component(system_token_controller, "Authorization Controller", "HTTP Handler", "Realiza o processo de controle de acesso utilizando a lib de auth.")
    Component(system_token_use_case, "Authorization Use Case", "Use Case", "Realiza as validações de permissionamento de acordo com as regras definidas na politica de permissionamento.")
    Component(auth_token_service, "Auth Token Service", "Service", "Faz o parse do token do header Authorization.")
   
   
    Rel(auth_controller, auth_use_case, "Usa")
    Rel(auth_use_case, security_filter_service, "Usa")
    Rel(auth_use_case, gate_repository, "Usa")
    Rel(security_filter_service, casbin, "Usa")
    Rel(system_token_controller, system_token_use_case, "Usa")
    Rel(system_token_use_case, auth_token_service, "Usa")
    Rel(system_token_use_case, gate_repository, "Usa")
    Rel(gate_repository, moove_database, "Lê e escreve em")
   
}


Rel(user, ui, "Acessa para gerenciar workspaces, aplicações, configurações, usuários, deployments, métricas e webhooks.")
Rel(ui, moove, "Faz requisição", "JSON/HTTPS")
Rel(envoy, ui, "Intercepta requisições", "HTTP Filter")
Rel(envoy, auth_controller, "Faz requisição", "JSON/HTTPS")


@enduml

@startuml c2





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendBorderColor transparent
skinparam LegendBackgroundColor transparent
skinparam LegendFontColor #FFFFFF

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam queue {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}





























skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam queue<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam rectangle<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}

skinparam database<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}

skinparam queue<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}

















skinparam rectangle<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam database<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam queue<<component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam rectangle<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}

skinparam database<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}

skinparam queue<<external_component>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #CCCCCC
    BorderColor #BFBFBF
}











hide stereotype
legend right
|<color:#000000>**Legend**</color> |
|<#08427B> person |
|<#1168BD> system |
|<#438DD5> container |
|<#85BBF0> component |
|<#686868> external person |
|<#999999> external system |
|<#B3B3B3> external container |
|<#CCCCCC> external component |
endlegend
left to right direction

rectangle "<$person>\n==Desenvolvedor/QA/PM/Gestor/Supervisor/Etc\n\n Qualquer pessoa que  que possui alguma aplicação que tem os deploys gerenciados pelo CharlesCD." <<person>> as user

rectangle "==CharlesCD-UI\n//<size:12>[ReacjJS, Typescript]</size>//\n\n Web Application: Interface do produto" <<container>> as ui
rectangle "==CharlesCD-Moove\n//<size:12>[Kotlin, SpringBoot]</size>//\n\n API Application: Processa e armazena no banco de dados as informações dos usuários, aplicações e configurações em geral. Além de orquestrar as requisições para as outras aplicações." <<container>> as moove
rectangle "==Moove Database\n//<size:12>[Postgres]</size>//\n\n Armazena Informações sobre Usuários, Grupos de Usuários, Token Sistêmicos, Permissões, Roles, Workspaces, Componentes, Modules,  Builds, Deployments, Círculos, Configurações de Métricas e Configurações de Ambiente de deploy." <<container>> as moove_database
rectangle "==Envoy\n//<size:12>[Proxy]</size>//" <<external_container>> as envoy

rectangle "==CharlesCD Gate\n<size:12>[Container]</size>" <<boundary>> as charlescd_gate{
   
    rectangle "==Gate Repository\n//<size:12>[Repository/GORM]</size>//\n\n Acessa as informações necessárias no banco de dados. Engloba as repositories User, SystemToken, Permission, Workspace." <<component>> as gate_repository


    rectangle "==Authorization Controller\n//<size:12>[HTTP Handler]</size>//\n\n Solicita a autorização da requisição utilizando token ou header de autorização." <<component>> as auth_controller
    rectangle "==Authorization Use Case\n//<size:12>[Use Case]</size>//\n\n Autoriza a requisição realizada via token ou header de autorização. Engloba os usecases: Authorize User Token e Authorize System Token." <<component>> as auth_use_case
    rectangle "==Security Filter Service\n//<size:12>[Service]</size>//\n\n Solicita a autorização da requisição utilizando token ou header de autorização." <<component>> as security_filter_service
    rectangle "==Casbin\n//<size:12>[Access Control Lib]</size>//\n\n Autoriza a requisição realizada via token ou header de autorização. Engloba os usecases: Authorize User Token e Authorize System Token." <<component>> as casbin

    
    rectangle "==Authorization Controller\n//<size:12>[HTTP Handler]</size>//\n\n Realiza o processo de controle de acesso utilizando a lib de auth." <<component>> as system_token_controller
    rectangle "==Authorization Use Case\n//<size:12>[Use Case]</size>//\n\n Realiza as validações de permissionamento de acordo com as regras definidas na politica de permissionamento." <<component>> as system_token_use_case
    rectangle "==Auth Token Service\n//<size:12>[Service]</size>//\n\n Faz o parse do token do header Authorization." <<component>> as auth_token_service
   
   
auth_controller - ->> auth_use_case : **Usa**
auth_use_case - ->> security_filter_service : **Usa**
auth_use_case - ->> gate_repository : **Usa**
security_filter_service - ->> casbin : **Usa**
system_token_controller - ->> system_token_use_case : **Usa**
system_token_use_case - ->> auth_token_service : **Usa**
system_token_use_case - ->> gate_repository : **Usa**
gate_repository - ->> moove_database : **Lê e escreve em**
   
}


user - ->> ui : **Acessa para gerenciar workspaces, aplicações, configurações, usuários, deployments, métricas e webhooks.**
ui - ->> moove : **Faz requisição**\n//<size:12>[JSON/HTTPS]</size>//
envoy - ->> ui : **Intercepta requisições**\n//<size:12>[HTTP Filter]</size>//
envoy - ->> auth_controller : **Faz requisição**\n//<size:12>[JSON/HTTPS]</size>//


@enduml

PlantUML version 1.2020.17(Sat Sep 19 09:30:11 BRT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>